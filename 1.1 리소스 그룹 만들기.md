# 1.1 리소스 그룹 만들기
Azure의 모든 리소스는 리소스 그룹이라는 것에 종속됩니다. 가상 컴퓨터를 포함하여 부하 분산 장치, 가상 네트워크, 저장소 계정 등 Azure에서 생성하는 모든 리소스는 전부 특정 리소스 그룹에 속해 있어야 합니다.

리소스 그룹은 리소스가 속한 지역에 관계 없이 설정할 수 있으며, 권장되는 설정으로는 같은 수명 주기를 가지는 리소스들을 하나의 리소스 그룹으로 설정하는 것이 좋습니다.

이번 내용에서는 Azure 웹 콘솔로 리소스 그룹을 만들어 보는 작업과 가상 네트워크를 만들 시 리소스 그룹을 같이 제작하는 방법, 그리고 Azure cli 2.0을 통해 리소스 그룹을 만들어 보겠습니다.

Azure 리소스 그룹에 대한 자세한 내용은 [Azure 리소스 그룹 문서](https://docs.microsoft.com/ko-kr/azure/azure-resource-manager/resource-group-overview)를 참고해 주시기 바랍니다.

## 웹 콘솔에서 리소스 그룹 만들기
1. [Azure 웹 콘솔 (https://portal.azure.com)](https://portal.azure.com)에 접속합니다.

2. 좌측 메뉴에서 **리소스 그룹**을 선택합니다.
    - 좌측 메뉴에 **리소스 그룹**이 없다면, 하단의 More Service를 선택 한 후 **resources**을 검색하여 선택합니다.

3. 블레이드에 **리소스 그룹**창이 뜨면 상단에 **+추가**버튼을 눌러서 **리소스 그룹**을 생성합니다.

4. **리소스 그룹 만들기** 블레이드가 뜨면 아래와 같이 설정을 입력합니다.
     - `리소스 그룹 이름` : 표시 될 리소스 그룹 이름을 입력합니다.
     - `구독` : 리소스 그룹을 생성할 구독을 선택합니다.
     - `리소스 그룹 위치` : 리소스 그룹을 생성할 지역을 선택합니다.

5. 하단의 **만들기**버튼을 클릭하여 리소스 그룹을 생성합니다.

6. **새로 고침** 버튼을 클릭하여 생성한 **리소스 그룹**이 정상적으로 생성 되었는지 확인합니다.

## 리소스 제작 시 리소스 그룹 만들기
1. [Azure 웹 콘솔](https://portal.azure.com)에 접속합니다.

2. 좌측 메뉴에서 **가상 네트워크**을 선택합니다.
    - 좌측 메뉴에 **리소스 그룹**이 없다면, 하단의 More Service를 선택 한 후 **virtual network**를 검색하여 선택합니다.

3. 블레이드에 **가상 네트워크**창이 뜨면 상단에 **+추가**버튼을 눌러서 **가상 네트워크**을 생성합니다.

4. **가상 네트워크 만들기** 블레이드가 뜨면 아래와 같이 설정을 입력합니다.
    - `이름` : 표시될 가상 네트워크 이름을 입력합니다.
    - `주소 공간` : 가상 네트워크의 CIDR값을 입력합니다. (예: 10.0.0.0/16)
    - `서브넷 이름` : 가상 네트워크를 만들 시 최초 생성시킬 서브넷 이름을 입력합니다.
    - `서브넷 주소 범위` : 서브넷의 CIDR값을 입력합니다. 이 값은 반드시 가상 네트워크의 CIDR 범위 안에 속해야 합니다. (예: 10.0.0.0/24)
    - `구독` : 가상 네트워크를 생성할 구독을 선택합니다.
    - `리소스 그룹` :
        - 새로 만들기 : 생성할 **리소스 그룹 이름**을 입력합니다.
        - 기존 그룹 사용 : 이미 생성한 **리소스 그룹**이 있다면 해당 리소스 그룹을 선택합니다.
    - `위치` : 가상 네트워크를 생성할 지역을 선택합니다. 
    > [!메모]
    >
    > 리소스 그룹 메뉴에서 새로 만들기를 할 시 리소스 그룹도 동일한 지역에 생성됩니다.

5. 하단의 **만들기**버튼을 클릭하여 가상 네트워크와 리소스 그룹을 생성합니다.

6. `2번` 에서 선택한 것 같이 **가상 네트워크**를 선택하여 생성한 **가상 네트워크**가 정상적으로 생성 되었는지 확인합니다.

7. 좌측 메뉴에서 **리소스 그룹**을 선택하여 **가상 네트워크**를 생성할 때 같이 생성한 **리소스 그룹**이 정상적으로 생성 되었는지 확인합니다.
    - 좌측 메뉴에 **리소스 그룹**이 없다면, 하단의 More Service를 선택 한 후 **resources**을 검색하여 선택합니다.

## Azure cli 2.0으로 리소스 그룹 만들기
1. 각 운영체제에 맞는 cli 창을 실행 합니다.

2. 다음 명령을 사용하여 `Azure cli 2.0`을 인증 합니다.
    ```bash
    az login
    ```

3. 명령어 실행 후 웹 브라우저로 출력된 [URL](https://aka.ms/devicelogin)에 접속합니다.

4. **Devicr Login** 페이지가 뜨면 출력된 9자리의 코드를 복사하여 입력합니다.

5. **Microsoft Azure Cross-platform Command Line Interface** 라는 메세지와 함께 생성된 화면에서 **Continue**를 클릭합니다.

6. 로그인 창이 뜨면 Azure 계정으로 로그인 합니다.

7. **Microsoft Azure Cross-platform Command Line Interface** 이라는 메세지와 함께 인증이 완료되었다는 창이 뜨면 웹 브라우저를 닫고 다시 cli 창으로 돌아오면 인증이 완료된 것을 확인할 수 있습니다.
    > [!메모]
    >
    > JSON형식으로 출력된 값이 두 개 이상인 경우 로그인 한 계정에 연결된 구독(subscription)이 두 개 이상인 경우 입니다. 이 때 아래와 같은 명령어를 사용하여 특정 구독을 사용하겠다는 정의를 별도로 해 주어야 합니다.
    > ```bash
    > az account set --subscription "<Subscription ID>"
    > ```

8. 다음 명령을 사용하여 **리소스 그룹**을 생성합니다.
    ```bash
    az group create --name <표시 될 리소스 그룹 이름> -l <리소스 그룹을 생성할 지역>
    ```

   >[!메모]
   >
   > 리소스 그룹을 생성할 지역은 아래 [Azure 지역](#azure-지역) 표를 참고하세요.

9. 다음 명령을 사용하여 생성된 **리소스 그룹**을 확인합니다.
    ```bash
    az group list 
    ```

## Azure 지역

| 지역 | 지역 표시 |
| --- | --- |
| 미국 중부 | centralus |
| 동아시아 | eastasia |
| 아시아 남동부 | southeastasia |
| 미국 동부 | eastus |
| 미국 동부2 | eastus2 |
| 미국 서부 | westus |
| 미국 서부2 | westus2 |
| 미국 북중부 | northcentralus |
| 미국 중남부 | southcentralus |
| 미국 중서부 | westcentralus |
| 북유럽 | northeurope |
| 서유럽 | westeurope |
| 일본 동부 | japaneast |
| 일본 서부 | japanwest |
| 브라질 남부 | brazilsouth |
| 오스트레일리아 남동부 | australiasoutheast |
| 오스트레일리아 동부 | australiaeast |
| 인도 서부 | westindia |
| 남인도 | southindia |
| 중앙인도 | centralindia |
| 캐나다 중부 | canadacentral |
| 캐나다 동부 | canadaeast |
| 영국 남부 | uksouth |
| 영국 동부 | ukwest |
| 대한민국 중부 | koreacentral |
| 대한민국 남부 | koreasouth |